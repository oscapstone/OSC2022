
bootloader.elf:     file format elf64-littleaarch64


Disassembly of section .text:

0000000000080000 <_code>:
   80000:	d53800a1 	mrs	x1, mpidr_el1
   80004:	92400421 	and	x1, x1, #0x3
   80008:	b5000261 	cbnz	x1, 80054 <stop>
   8000c:	580002e1 	ldr	x1, 80068 <stop+0x14>
   80010:	9100003f 	mov	sp, x1
   80014:	580002e1 	ldr	x1, 80070 <stop+0x1c>
   80018:	58000302 	ldr	x2, 80078 <stop+0x24>
   8001c:	18000203 	ldr	w3, 8005c <stop+0x8>
   80020:	34000163 	cbz	w3, 8004c <uart_boot>

0000000000080024 <relocate_loop>:
   80024:	f8408424 	ldr	x4, [x1], #8
   80028:	f8008444 	str	x4, [x2], #8
   8002c:	51000463 	sub	w3, w3, #0x1
   80030:	35ffffa3 	cbnz	w3, 80024 <relocate_loop>
   80034:	58000261 	ldr	x1, 80080 <stop+0x2c>
   80038:	18000142 	ldr	w2, 80060 <stop+0xc>

000000000008003c <clear_bss>:
   8003c:	34000082 	cbz	w2, 8004c <uart_boot>
   80040:	f800843f 	str	xzr, [x1], #8
   80044:	51000442 	sub	w2, w2, #0x1
   80048:	35ffffa2 	cbnz	w2, 8003c <clear_bss>

000000000008004c <uart_boot>:
   8004c:	97ff809f 	bl	602c8 <__relocate_address+0x2c8>
   80050:	14000001 	b	80054 <stop>

0000000000080054 <stop>:
   80054:	d503205f 	wfe
   80058:	17ffffff 	b	80054 <stop>
   8005c:	00000080 	.word	0x00000080
	...
   80068:	00080000 	.word	0x00080000
   8006c:	00000000 	.word	0x00000000
   80070:	00080000 	.word	0x00080000
   80074:	00000000 	.word	0x00000000
   80078:	00060000 	.word	0x00060000
   8007c:	00000000 	.word	0x00000000
   80080:	00080400 	.word	0x00080400
   80084:	00000000 	.word	0x00000000

0000000000080088 <uart_init>:
   80088:	d2800082 	mov	x2, #0x4                   	// #4
   8008c:	d2801283 	mov	x3, #0x94                  	// #148
   80090:	f2a7e402 	movk	x2, #0x3f20, lsl #16
   80094:	f2a7e403 	movk	x3, #0x3f20, lsl #16
   80098:	52840004 	mov	w4, #0x2000                	// #8192
   8009c:	528012c0 	mov	w0, #0x96                  	// #150
   800a0:	b9400041 	ldr	w1, [x2]
   800a4:	72a00024 	movk	w4, #0x1, lsl #16
   800a8:	120e6421 	and	w1, w1, #0xfffc0fff
   800ac:	2a040021 	orr	w1, w1, w4
   800b0:	b9000041 	str	w1, [x2]
   800b4:	b900007f 	str	wzr, [x3]
   800b8:	d503201f 	nop
   800bc:	71000400 	subs	w0, w0, #0x1
   800c0:	54ffffc1 	b.ne	800b8 <uart_init+0x30>  // b.any
   800c4:	d2801301 	mov	x1, #0x98                  	// #152
   800c8:	52980002 	mov	w2, #0xc000                	// #49152
   800cc:	f2a7e401 	movk	x1, #0x3f20, lsl #16
   800d0:	528012c0 	mov	w0, #0x96                  	// #150
   800d4:	b9000022 	str	w2, [x1]
   800d8:	d503201f 	nop
   800dc:	71000400 	subs	w0, w0, #0x1
   800e0:	54ffffc1 	b.ne	800d8 <uart_init+0x50>  // b.any
   800e4:	d2801300 	mov	x0, #0x98                  	// #152
   800e8:	d28a0083 	mov	x3, #0x5004                	// #20484
   800ec:	f2a7e400 	movk	x0, #0x3f20, lsl #16
   800f0:	f2a7e423 	movk	x3, #0x3f21, lsl #16
   800f4:	d28a0c01 	mov	x1, #0x5060                	// #20576
   800f8:	d28a0989 	mov	x9, #0x504c                	// #20556
   800fc:	b900001f 	str	wzr, [x0]
   80100:	f2a7e421 	movk	x1, #0x3f21, lsl #16
   80104:	f2a7e429 	movk	x9, #0x3f21, lsl #16
   80108:	d28a0a08 	mov	x8, #0x5050                	// #20560
   8010c:	b9400060 	ldr	w0, [x3]
   80110:	f2a7e428 	movk	x8, #0x3f21, lsl #16
   80114:	d28a0887 	mov	x7, #0x5044                	// #20548
   80118:	52800062 	mov	w2, #0x3                   	// #3
   8011c:	32000000 	orr	w0, w0, #0x1
   80120:	b9000060 	str	w0, [x3]
   80124:	b900003f 	str	wzr, [x1]
   80128:	f2a7e427 	movk	x7, #0x3f21, lsl #16
   8012c:	d28a0905 	mov	x5, #0x5048                	// #20552
   80130:	b9000122 	str	w2, [x9]
   80134:	f2a7e425 	movk	x5, #0x3f21, lsl #16
   80138:	d28a0d04 	mov	x4, #0x5068                	// #20584
   8013c:	b900011f 	str	wzr, [x8]
   80140:	f2a7e424 	movk	x4, #0x3f21, lsl #16
   80144:	b90000ff 	str	wzr, [x7]
   80148:	528018c6 	mov	w6, #0xc6                  	// #198
   8014c:	b90000a6 	str	w6, [x5]
   80150:	528021c0 	mov	w0, #0x10e                 	// #270
   80154:	b9000080 	str	w0, [x4]
   80158:	b9000022 	str	w2, [x1]
   8015c:	d65f03c0 	ret

0000000000080160 <uart_send>:
   80160:	d28a0a82 	mov	x2, #0x5054                	// #20564
   80164:	f2a7e422 	movk	x2, #0x3f21, lsl #16
   80168:	d503201f 	nop
   8016c:	b9400041 	ldr	w1, [x2]
   80170:	362fffc1 	tbz	w1, #5, 80168 <uart_send+0x8>
   80174:	d28a0801 	mov	x1, #0x5040                	// #20544
   80178:	f2a7e421 	movk	x1, #0x3f21, lsl #16
   8017c:	b9000020 	str	w0, [x1]
   80180:	d65f03c0 	ret
   80184:	d503201f 	nop

0000000000080188 <uart_getc>:
   80188:	d28a0a81 	mov	x1, #0x5054                	// #20564
   8018c:	f2a7e421 	movk	x1, #0x3f21, lsl #16
   80190:	d503201f 	nop
   80194:	b9400020 	ldr	w0, [x1]
   80198:	3607ffc0 	tbz	w0, #0, 80190 <uart_getc+0x8>
   8019c:	d28a0800 	mov	x0, #0x5040                	// #20544
   801a0:	f2a7e420 	movk	x0, #0x3f21, lsl #16
   801a4:	b9400000 	ldr	w0, [x0]
   801a8:	d65f03c0 	ret
   801ac:	d503201f 	nop

00000000000801b0 <uart_puts>:
   801b0:	39400001 	ldrb	w1, [x0]
   801b4:	34000221 	cbz	w1, 801f8 <uart_puts+0x48>
   801b8:	d28a0a82 	mov	x2, #0x5054                	// #20564
   801bc:	d28a0804 	mov	x4, #0x5040                	// #20544
   801c0:	f2a7e422 	movk	x2, #0x3f21, lsl #16
   801c4:	f2a7e424 	movk	x4, #0x3f21, lsl #16
   801c8:	528001a5 	mov	w5, #0xd                   	// #13
   801cc:	d503201f 	nop
   801d0:	7100283f 	cmp	w1, #0xa
   801d4:	54000140 	b.eq	801fc <uart_puts+0x4c>  // b.none
   801d8:	38401403 	ldrb	w3, [x0], #1
   801dc:	d503201f 	nop
   801e0:	d503201f 	nop
   801e4:	b9400041 	ldr	w1, [x2]
   801e8:	362fffc1 	tbz	w1, #5, 801e0 <uart_puts+0x30>
   801ec:	b9000083 	str	w3, [x4]
   801f0:	39400001 	ldrb	w1, [x0]
   801f4:	35fffee1 	cbnz	w1, 801d0 <uart_puts+0x20>
   801f8:	d65f03c0 	ret
   801fc:	d503201f 	nop
   80200:	b9400041 	ldr	w1, [x2]
   80204:	362fffc1 	tbz	w1, #5, 801fc <uart_puts+0x4c>
   80208:	b9000085 	str	w5, [x4]
   8020c:	17fffff3 	b	801d8 <uart_puts+0x28>

0000000000080210 <uart_hex>:
   80210:	d28a0a82 	mov	x2, #0x5054                	// #20564
   80214:	d28a0805 	mov	x5, #0x5040                	// #20544
   80218:	52800383 	mov	w3, #0x1c                  	// #28
   8021c:	528006e7 	mov	w7, #0x37                  	// #55
   80220:	52800606 	mov	w6, #0x30                  	// #48
   80224:	f2a7e422 	movk	x2, #0x3f21, lsl #16
   80228:	f2a7e425 	movk	x5, #0x3f21, lsl #16
   8022c:	d503201f 	nop
   80230:	1ac32401 	lsr	w1, w0, w3
   80234:	12000c21 	and	w1, w1, #0xf
   80238:	7100243f 	cmp	w1, #0x9
   8023c:	1a8680e4 	csel	w4, w7, w6, hi  // hi = pmore
   80240:	0b010084 	add	w4, w4, w1
   80244:	d503201f 	nop
   80248:	d503201f 	nop
   8024c:	b9400041 	ldr	w1, [x2]
   80250:	362fffc1 	tbz	w1, #5, 80248 <uart_hex+0x38>
   80254:	b90000a4 	str	w4, [x5]
   80258:	51001063 	sub	w3, w3, #0x4
   8025c:	3100107f 	cmn	w3, #0x4
   80260:	54fffe81 	b.ne	80230 <uart_hex+0x20>  // b.any
   80264:	d65f03c0 	ret

0000000000080268 <uart_getline>:
   80268:	d28a0a82 	mov	x2, #0x5054                	// #20564
   8026c:	d28a0805 	mov	x5, #0x5040                	// #20544
   80270:	f2a7e422 	movk	x2, #0x3f21, lsl #16
   80274:	f2a7e425 	movk	x5, #0x3f21, lsl #16
   80278:	d503201f 	nop
   8027c:	b9400041 	ldr	w1, [x2]
   80280:	3607ffc1 	tbz	w1, #0, 80278 <uart_getline+0x10>
   80284:	b94000a1 	ldr	w1, [x5]
   80288:	12001c24 	and	w4, w1, #0xff
   8028c:	363800a1 	tbz	w1, #7, 802a0 <uart_getline+0x38>
   80290:	7100289f 	cmp	w4, #0xa
   80294:	7a4d1884 	ccmp	w4, #0xd, #0x4, ne  // ne = any
   80298:	54ffff01 	b.ne	80278 <uart_getline+0x10>  // b.any
   8029c:	d65f03c0 	ret
   802a0:	12001c23 	and	w3, w1, #0xff
   802a4:	d503201f 	nop
   802a8:	d503201f 	nop
   802ac:	b9400041 	ldr	w1, [x2]
   802b0:	362fffc1 	tbz	w1, #5, 802a8 <uart_getline+0x40>
   802b4:	b90000a3 	str	w3, [x5]
   802b8:	3826c804 	strb	w4, [x0, w6, sxtw]
   802bc:	110004c6 	add	w6, w6, #0x1
   802c0:	17fffff4 	b	80290 <uart_getline+0x28>
   802c4:	00000000 	.inst	0x00000000 ; undefined

00000000000802c8 <mini_uart_boot>:
   802c8:	a9bd7bfd 	stp	x29, x30, [sp, #-48]!
   802cc:	910003fd 	mov	x29, sp
   802d0:	a90153f3 	stp	x19, x20, [sp, #16]
   802d4:	aa0003e0 	mov	x0, x0
   802d8:	52800094 	mov	w20, #0x4                   	// #4
   802dc:	52800013 	mov	w19, #0x0                   	// #0
   802e0:	f90017e0 	str	x0, [sp, #40]
   802e4:	97ffff69 	bl	80088 <uart_init>
   802e8:	97ffffa8 	bl	80188 <uart_getc>
   802ec:	12001c00 	and	w0, w0, #0xff
   802f0:	71000694 	subs	w20, w20, #0x1
   802f4:	2a132013 	orr	w19, w0, w19, lsl #8
   802f8:	54ffff81 	b.ne	802e8 <mini_uart_boot+0x20>  // b.any
   802fc:	34000133 	cbz	w19, 80320 <mini_uart_boot+0x58>
   80300:	51000674 	sub	w20, w19, #0x1
   80304:	d2a00113 	mov	x19, #0x80000               	// #524288
   80308:	91420294 	add	x20, x20, #0x80, lsl #12
   8030c:	91000694 	add	x20, x20, #0x1
   80310:	97ffff9e 	bl	80188 <uart_getc>
   80314:	38001660 	strb	w0, [x19], #1
   80318:	eb13029f 	cmp	x20, x19
   8031c:	54ffffa1 	b.ne	80310 <mini_uart_boot+0x48>  // b.any
   80320:	f94017e0 	ldr	x0, [sp, #40]
   80324:	aa0003e0 	mov	x0, x0
   80328:	d2a0011e 	mov	x30, #0x80000               	// #524288
   8032c:	d65f03c0 	ret
   80330:	a94153f3 	ldp	x19, x20, [sp, #16]
   80334:	a8c37bfd 	ldp	x29, x30, [sp], #48
   80338:	d65f03c0 	ret
