# Operating Systems Capstone 2022

|GitHub account name|Student ID|Name|
|---|---|---|
|fanhouin|310552001|æ¨Šæµ©è³¢|

## Run with QEMU
### Prerequisites
```bash
sudo apt-get install gcc-aarch64-linux-gnu
sudo apt-get install qemu-system-aarch64
```
### Make kernel image
```bash
cd kernel
make
```

### Make bootloader image
```bash
cd bootloader
make
```

## Run
###  Just run kernel image
```bash
cd kernel
make run
```
### Boot kernel image with bootloader
```bash
# terminal 1
cd bootloader
make pty

# terminal 2
sudo screen /dev/pts/<num> 115200

# terminal 3 
cd kernel
sudo ../uartboot.py <num>
```
## Directory
```
ğŸ“¦osc2022
 â”£ ğŸ“‚bootloader
 â”ƒ â”£ ğŸ“‚boot
 â”ƒ â”ƒ â”£ ğŸ“œlinker.ld
 â”ƒ â”ƒ â”— ğŸ“œstart.S
 â”ƒ â”£ ğŸ“‚include
 â”ƒ â”ƒ â”£ ğŸ“œgpio.h
 â”ƒ â”ƒ â”£ ğŸ“œread.h
 â”ƒ â”ƒ â”£ ğŸ“œstring.h
 â”ƒ â”ƒ â”— ğŸ“œuart.h
 â”ƒ â”£ ğŸ“‚src
 â”ƒ â”ƒ â”£ ğŸ“œmain.c
 â”ƒ â”ƒ â”£ ğŸ“œread.c
 â”ƒ â”ƒ â”£ ğŸ“œstring.c
 â”ƒ â”ƒ â”— ğŸ“œuart.c
 â”ƒ â”£ ğŸ“œMakefile
 â”ƒ â”£ ğŸ“œbcm2710-rpi-3-b-plus.dtb
 â”ƒ â”— ğŸ“œinitramfs.cpio
 â”£ ğŸ“‚kernel
 â”ƒ â”£ ğŸ“‚boot
 â”ƒ â”ƒ â”£ ğŸ“œlinker.ld
 â”ƒ â”ƒ â”— ğŸ“œstart.S
 â”ƒ â”£ ğŸ“‚include
 â”ƒ â”ƒ â”£ ğŸ“œallocator.h
 â”ƒ â”ƒ â”£ ğŸ“œcpio.h
 â”ƒ â”ƒ â”£ ğŸ“œdev_ops.h
 â”ƒ â”ƒ â”£ ğŸ“œexc.h
 â”ƒ â”ƒ â”£ ğŸ“œfdt.h
 â”ƒ â”ƒ â”£ ğŸ“œgpio.h
 â”ƒ â”ƒ â”£ ğŸ“œirq.h
 â”ƒ â”ƒ â”£ ğŸ“œlist.h
 â”ƒ â”ƒ â”£ ğŸ“œmailbox.h
 â”ƒ â”ƒ â”£ ğŸ“œmalloc.h
 â”ƒ â”ƒ â”£ ğŸ“œmath.h
 â”ƒ â”ƒ â”£ ğŸ“œread.h
 â”ƒ â”ƒ â”£ ğŸ“œreboot.h
 â”ƒ â”ƒ â”£ ğŸ“œsched.h
 â”ƒ â”ƒ â”£ ğŸ“œshell.h
 â”ƒ â”ƒ â”£ ğŸ“œsignal.h
 â”ƒ â”ƒ â”£ ğŸ“œstddef.h
 â”ƒ â”ƒ â”£ ğŸ“œstdint.h
 â”ƒ â”ƒ â”£ ğŸ“œstring.h
 â”ƒ â”ƒ â”£ ğŸ“œsyscall.h
 â”ƒ â”ƒ â”£ ğŸ“œtask.h
 â”ƒ â”ƒ â”£ ğŸ“œtest_fs.h
 â”ƒ â”ƒ â”£ ğŸ“œtimer.h
 â”ƒ â”ƒ â”£ ğŸ“œtmpfs.h
 â”ƒ â”ƒ â”£ ğŸ“œuart.h
 â”ƒ â”ƒ â”£ ğŸ“œuser_syscall.h
 â”ƒ â”ƒ â”— ğŸ“œvfs.h
 â”ƒ â”£ ğŸ“‚initramfs
 â”ƒ â”ƒ â”£ ğŸ“‚flag
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚fffflag
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œflag   
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œfakeflag.txt
 â”ƒ â”ƒ â”£ ğŸ“œme
 â”ƒ â”ƒ â”£ ğŸ“œtest1
 â”ƒ â”ƒ â”£ ğŸ“œtest2.txt
 â”ƒ â”ƒ â”£ ğŸ“œtest3.cc
 â”ƒ â”ƒ â”— ğŸ“œuser.S
 â”ƒ â”£ ğŸ“‚src
 â”ƒ â”ƒ â”£ ğŸ“œallocator.c
 â”ƒ â”ƒ â”£ ğŸ“œcpio.c
 â”ƒ â”ƒ â”£ ğŸ“œctx_switch.S
 â”ƒ â”ƒ â”£ ğŸ“œdev_ops.c
 â”ƒ â”ƒ â”£ ğŸ“œexc.c
 â”ƒ â”ƒ â”£ ğŸ“œfdt.c
 â”ƒ â”ƒ â”£ ğŸ“œirq.c
 â”ƒ â”ƒ â”£ ğŸ“œmailbox.c
 â”ƒ â”ƒ â”£ ğŸ“œmain.c
 â”ƒ â”ƒ â”£ ğŸ“œmalloc.c
 â”ƒ â”ƒ â”£ ğŸ“œmath.c
 â”ƒ â”ƒ â”£ ğŸ“œread.c
 â”ƒ â”ƒ â”£ ğŸ“œreboot.c
 â”ƒ â”ƒ â”£ ğŸ“œsched.c
 â”ƒ â”ƒ â”£ ğŸ“œshell.c
 â”ƒ â”ƒ â”£ ğŸ“œsignal.c
 â”ƒ â”ƒ â”£ ğŸ“œstring.c
 â”ƒ â”ƒ â”£ ğŸ“œsyscall.c
 â”ƒ â”ƒ â”£ ğŸ“œtask.c
 â”ƒ â”ƒ â”£ ğŸ“œtest_fs.c
 â”ƒ â”ƒ â”£ ğŸ“œtimer.c
 â”ƒ â”ƒ â”£ ğŸ“œtmpfs.c
 â”ƒ â”ƒ â”£ ğŸ“œuart.c
 â”ƒ â”ƒ â”£ ğŸ“œuser_syscall.S
 â”ƒ â”ƒ â”— ğŸ“œvfs.c
 â”ƒ â”£ ğŸ“œMakefile
 â”ƒ â”£ ğŸ“œbcm2710-rpi-3-b-plus.dtb
 â”ƒ â”— ğŸ“œinitramfs.cpio
 â”£ ğŸ“œconfig.txt
 â”— ğŸ“œuartboot.py
```